# World Whisperer

Welcome to World Whisperer! This program helps you manage your notes on a fantasy world, vectorizes them using **local AI models**, stores them in a database, and allows you to interact with the content using **OpenRouter's unified API** for access to Claude, GPT-4, Llama, and more.

### 1. Install Dependencies
```bash
pip install -r requirements.txt
```

### 2. Configure Environment
```bash
cp .env.example .env
```

Edit `.env` and add your OpenRouter API key:
- Get an API key from https://openrouter.ai/keys
- Add credits (minimum $1)
- Update `openrouter_api_key` in `.env`

### 3. Prepare Your Notes
1. Rename `SampleNotes` to `Notes`
2. Create subdirectories for different content types (Characters, Locations, Items, etc.)
3. Create `.md` files inside each subfolder named after your lore items
4. Plain text is supported; markdown formatting will pass through

### 4. Initialize the Database
```bash
python main.py
```

The program will:
- Load the local embedding model (~80MB, one-time download)
- Scan your Notes directory
- Generate tags for each note using AI
- Create embeddings using the local model
- Store everything in ChromaDB

When prompted "Update ChromaDB Now?", answer `y`

## Main Menu

The main menu provides you with three modes of operation:

1. **Interactive Mode**
2. **Questions Mode**
3. **Generator Mode**

### 1. Interactive Mode

In this mode, you can interact with the model by providing the following information:

a. **Admin Command**: This is a short description to guide the response.
        Example: "You are Joe's grandfather telling stories."

b. **Context**: Provide any additional context about the prompt that isn't found in your world notes.
        Example: "Joe is a huge fan of cheese."

c. **Prompt**: Write the actual question or scenario you want ChatGPT to address.
        Example: "Tell me about the time Joe went to Italy and got a pizza."

### 2. Questions Mode

This mode allows you to ask questions about the world directly. Just type your question, and it will provide you
with an answer based on the information stored in the Pinecone database.

### 3. Generator Mode âœ¨ ENHANCED

Generator Mode enables you to create new content for your world with intelligent integration of existing lore.

**How it works:**
1. Your prompt is analyzed for relevant existing content
2. The system identifies the most relevant lore items (with scores)
3. AI generates new content that:
   - Maintains consistency with established lore
   - References existing elements appropriately
   - Matches your world's tone and style
   - Creates meaningful interconnections
